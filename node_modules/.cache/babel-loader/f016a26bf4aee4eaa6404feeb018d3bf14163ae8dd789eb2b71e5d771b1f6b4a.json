{"ast":null,"code":"import _objectSpread from\"/home/hugo/Documents/4A/cyber/front_url_parser/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useRef,useEffect,useState}from\"react\";import{incrementscore}from\"../services/servicesjeu\";import{useWebSocket}from\"../context/WebSocketContext\";import{checkmilestone}from\"../services/servicesjeu\";import ModalECaptcha from\"./modalecaptcha\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Pagejeu=()=>{const{socket,userId,connectedUsers}=useWebSocket();const containerRef=useRef(null);//ref vers le div contenant l'animation\nconst{widthitems,heightitems}={widthitems:200,heightitems:200};const{widthtete,heighttete}={widthtete:150,heighttete:150};const[startPos]=useState(()=>getRandomxy(widthtete,heighttete));const[pos,setPos]=useState(startPos);const[dir,setDir]=useState({dx:2,dy:2});// const [staticimages,setstaticimages]= useState<{x:number;y:number,id:number,src:string}[]>([]);\nconst[staticimagescentre,setstaticimagescentre]=useState([]);const[nextID,setNextID]=useState(0);//\nconst[imgquibougent,setimgquibougent]=useState([]);const[showCaptcha,setShowCaptcha]=useState(false);const[captchaData,setCaptchaData]=useState(null);useEffect(()=>{console.log(\"connectedUsers\",connectedUsers);if(!connectedUsers||connectedUsers.length===0)return;setimgquibougent(connectedUsers.map(user=>{let pos;do{pos=getRandomxy(widthtete,heighttete);}while(isOverlappingCenter(pos.x,pos.y));return{id:user.id,pos,dir:{dx:2,dy:2},src:\"https://projetdelamort.onrender.com/assets/\".concat(user.id,\".png\"),username:user.username,score:user.score};}));},[connectedUsers]);useEffect(()=>{let animationFrame;const move=()=>{setimgquibougent(imgs=>imgs.map(img=>{var _img$dir$dx,_img$dir,_img$dir$dy,_img$dir2,_img$dir$dx2,_img$dir3,_img$dir$dy2,_img$dir4;const container=containerRef.current;if(!container)return img;let newX=img.pos.x+((_img$dir$dx=(_img$dir=img.dir)===null||_img$dir===void 0?void 0:_img$dir.dx)!==null&&_img$dir$dx!==void 0?_img$dir$dx:2);let newY=img.pos.y+((_img$dir$dy=(_img$dir2=img.dir)===null||_img$dir2===void 0?void 0:_img$dir2.dy)!==null&&_img$dir$dy!==void 0?_img$dir$dy:2);let newDx=(_img$dir$dx2=(_img$dir3=img.dir)===null||_img$dir3===void 0?void 0:_img$dir3.dx)!==null&&_img$dir$dx2!==void 0?_img$dir$dx2:2;let newDy=(_img$dir$dy2=(_img$dir4=img.dir)===null||_img$dir4===void 0?void 0:_img$dir4.dy)!==null&&_img$dir$dy2!==void 0?_img$dir$dy2:2;// rebond sur les bords du container\nif(newX<=0||newX+widthtete>=container.offsetWidth){newDx*=-1;}if(newY<=0||newY+heighttete>=container.offsetHeight){newDy*=-1;}// collision avec l'image centrale\nconst Imagecentrex=container.offsetWidth/2-widthitems/2;const Imagecentrey=container.offsetHeight/2-heightitems/2;const rectImagemov={left:newX,right:newX+widthtete,top:newY,bottom:newY+heighttete};const rectImagecenter={left:Imagecentrex,right:Imagecentrex+widthitems,top:Imagecentrey,bottom:Imagecentrey+heightitems};const collision=rectImagemov.left<rectImagecenter.right&&rectImagemov.right>rectImagecenter.left&&rectImagemov.top<rectImagecenter.bottom&&rectImagemov.bottom>rectImagecenter.top;if(collision){const overlapX=Math.min(rectImagemov.right,rectImagecenter.right)-Math.max(rectImagemov.left,rectImagecenter.left);const overlapY=Math.min(rectImagemov.bottom,rectImagecenter.bottom)-Math.max(rectImagemov.top,rectImagecenter.top);if(overlapX<overlapY){newDx*=-1;}else{newDy*=-1;}}return _objectSpread(_objectSpread({},img),{},{pos:{x:newX,y:newY},dir:{dx:newDx,dy:newDy}});}));animationFrame=requestAnimationFrame(move);};animationFrame=requestAnimationFrame(move);return()=>cancelAnimationFrame(animationFrame);},[]);function isOverlappingCenter(x,y){const containerWidth=window.innerWidth;const containerHeight=window.innerHeight;const centerX=containerWidth/2-widthitems/2;const centerY=containerHeight/2-heightitems/2;const rectMov={left:x,right:x+widthtete,top:y,bottom:y+heighttete};const rectCenter={left:centerX,right:centerX+widthitems,top:centerY,bottom:centerY+heightitems};return rectMov.left<rectCenter.right&&rectMov.right>rectCenter.left&&rectMov.top<rectCenter.bottom&&rectMov.bottom>rectCenter.top;}useEffect(()=>{const imageSources=[\"/images/coca.jpg\",\"/images/biere.png\",\"/images/mcsmart.jpg\",\"/images/bouteilles martini.png\",\"/images/burger.png\",\"/images/choppes bière.webp\",\"/images/frites.png\",\"/images/moscow mule.webp\",\"/images/pina colada.png\",\"/images/pisco sour.png\",\"/images/ti punch.png\",\"/images/verre de bière.webp\"];const intervalle=setInterval(()=>{const randomimages=imageSources[Math.floor(Math.random()*imageSources.length)];const newImage={id:nextID,src:randomimages};setstaticimagescentre([newImage]);setNextID(id=>id+1);},1000);return()=>clearInterval(intervalle);},[]);function getRandomxy(width,height){const x=Math.floor(Math.random()*(window.innerWidth-width));const y=Math.floor(Math.random()*(window.innerHeight-height));return{x,y};}const handleClick=async()=>{try{if(socket&&socket.readyState===WebSocket.OPEN){const check=await checkmilestone();if(check.requires_verification){setCaptchaData(check);setShowCaptcha(true);return;}socket.send(JSON.stringify({type:\"click\",data:{x:pos.x,y:pos.y}}));const response=await incrementscore();const newScore=response.new_score;if(userId){setimgquibougent(prev=>prev.map(img=>img.id===userId?_objectSpread(_objectSpread({},img),{},{score:newScore}):img));}console.log(\"Score incrémenté:\",response);}else{console.error(\"pas connecté au websocket\");}}catch(error){console.error(\"Erreur lors du clic sur l'image:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,style:{width:\"100vw\",height:\"100vh\",backgroundColor:\"#000\",overflow:\"hidden\",position:\"relative\"},children:[imgquibougent.map(img=>/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(\"img\",{src:img.src,alt:\"user \".concat(img.username),style:{position:\"absolute\",top:img.pos.y,left:img.pos.x,width:widthtete,height:heighttete,zIndex:1}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",top:img.pos.y-25,left:img.pos.x,color:\"white\",fontSize:\"12px\",backgroundColor:\"rgba(0,0,0,0.7)\",padding:\"2px 4px\",borderRadius:\"3px\",zIndex:2,whiteSpace:\"nowrap\"},children:[img.username,\": \",img.score]})]},img.id)),staticimagescentre.map(img=>/*#__PURE__*/_jsx(\"img\",{src:img.src,onClick:handleClick,style:{position:\"absolute\",top:\"calc(50% - \".concat(heightitems/2,\"px)\"),left:\"calc(50% - \".concat(widthitems/2,\"px)\"),width:widthitems,height:heightitems,cursor:\"pointer\",zIndex:10}},img.id)),showCaptcha&&/*#__PURE__*/_jsx(ModalECaptcha,{onClose:()=>setShowCaptcha(false),captchaData:captchaData})]});};export default Pagejeu;","map":{"version":3,"names":["React","useRef","useEffect","useState","incrementscore","useWebSocket","checkmilestone","ModalECaptcha","jsx","_jsx","jsxs","_jsxs","Pagejeu","socket","userId","connectedUsers","containerRef","widthitems","heightitems","widthtete","heighttete","startPos","getRandomxy","pos","setPos","dir","setDir","dx","dy","staticimagescentre","setstaticimagescentre","nextID","setNextID","imgquibougent","setimgquibougent","showCaptcha","setShowCaptcha","captchaData","setCaptchaData","console","log","length","map","user","isOverlappingCenter","x","y","id","src","concat","username","score","animationFrame","move","imgs","img","_img$dir$dx","_img$dir","_img$dir$dy","_img$dir2","_img$dir$dx2","_img$dir3","_img$dir$dy2","_img$dir4","container","current","newX","newY","newDx","newDy","offsetWidth","offsetHeight","Imagecentrex","Imagecentrey","rectImagemov","left","right","top","bottom","rectImagecenter","collision","overlapX","Math","min","max","overlapY","_objectSpread","requestAnimationFrame","cancelAnimationFrame","containerWidth","window","innerWidth","containerHeight","innerHeight","centerX","centerY","rectMov","rectCenter","imageSources","intervalle","setInterval","randomimages","floor","random","newImage","clearInterval","width","height","handleClick","readyState","WebSocket","OPEN","check","requires_verification","send","JSON","stringify","type","data","response","newScore","new_score","prev","error","ref","style","backgroundColor","overflow","position","children","alt","zIndex","color","fontSize","padding","borderRadius","whiteSpace","onClick","cursor","onClose"],"sources":["/home/hugo/Documents/4A/cyber/front_url_parser/src/components/Pagejeu.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, use } from \"react\";\nimport { incrementscore } from \"../services/servicesjeu\";\nimport { useWebSocket } from \"../context/WebSocketContext\";\nimport { checkmilestone } from \"../services/servicesjeu\";\nimport ModalECaptcha from \"./modalecaptcha\";\n\nconst Pagejeu = () => {\n  const { socket, userId, connectedUsers } = useWebSocket();\n  const containerRef = useRef<HTMLDivElement>(null); //ref vers le div contenant l'animation\n\n  const { widthitems, heightitems } = { widthitems: 200, heightitems: 200 };\n  const { widthtete, heighttete } = { widthtete: 150, heighttete: 150 };\n\n  const [startPos] = useState(() => getRandomxy(widthtete, heighttete));\n  const [pos, setPos] = useState(startPos);\n  const [dir, setDir] = useState({ dx: 2, dy: 2 });\n  // const [staticimages,setstaticimages]= useState<{x:number;y:number,id:number,src:string}[]>([]);\n  const [staticimagescentre, setstaticimagescentre] = useState<\n    { id: number; src: string }[]\n  >([]);\n  const [nextID, setNextID] = useState(0);\n  //\n  const [imgquibougent, setimgquibougent] = useState<\n    {\n      id: string;\n      pos: { x: number; y: number };\n      dir: { dx: number; dy: number };\n      src: string;\n      username: string;\n      score: number;\n    }[]\n  >([]);\n\n  const [showCaptcha, setShowCaptcha] = useState(false);\n  const [captchaData, setCaptchaData] = useState<any>(null);\n\n  useEffect(() => {\n    console.log(\"connectedUsers\", connectedUsers);\n\n    if (!connectedUsers || connectedUsers.length === 0) return;\n\n    setimgquibougent(\n      connectedUsers.map((user) => {\n        let pos;\n        do {\n          pos = getRandomxy(widthtete, heighttete);\n        } while (isOverlappingCenter(pos.x, pos.y));\n        return {\n          id: user.id,\n          pos,\n          dir: { dx: 2, dy: 2 },\n          src: `https://projetdelamort.onrender.com/assets/${user.id}.png`,\n          username: user.username,\n          score: user.score,\n        };\n      })\n    );\n  }, [connectedUsers]);\n\n  useEffect(() => {\n    let animationFrame: number;\n\n    const move = () => {\n      setimgquibougent((imgs) =>\n        imgs.map((img) => {\n          const container = containerRef.current;\n          if (!container) return img;\n\n          let newX = img.pos.x + (img.dir?.dx ?? 2);\n          let newY = img.pos.y + (img.dir?.dy ?? 2);\n          let newDx = img.dir?.dx ?? 2;\n          let newDy = img.dir?.dy ?? 2;\n\n          // rebond sur les bords du container\n          if (newX <= 0 || newX + widthtete >= container.offsetWidth) {\n            newDx *= -1;\n          }\n          if (newY <= 0 || newY + heighttete >= container.offsetHeight) {\n            newDy *= -1;\n          }\n\n          // collision avec l'image centrale\n          const Imagecentrex = container.offsetWidth / 2 - widthitems / 2;\n          const Imagecentrey = container.offsetHeight / 2 - heightitems / 2;\n          const rectImagemov = {\n            left: newX,\n            right: newX + widthtete,\n            top: newY,\n            bottom: newY + heighttete,\n          };\n          const rectImagecenter = {\n            left: Imagecentrex,\n            right: Imagecentrex + widthitems,\n            top: Imagecentrey,\n            bottom: Imagecentrey + heightitems,\n          };\n          const collision =\n            rectImagemov.left < rectImagecenter.right &&\n            rectImagemov.right > rectImagecenter.left &&\n            rectImagemov.top < rectImagecenter.bottom &&\n            rectImagemov.bottom > rectImagecenter.top;\n\n          if (collision) {\n            const overlapX =\n              Math.min(rectImagemov.right, rectImagecenter.right) -\n              Math.max(rectImagemov.left, rectImagecenter.left);\n            const overlapY =\n              Math.min(rectImagemov.bottom, rectImagecenter.bottom) -\n              Math.max(rectImagemov.top, rectImagecenter.top);\n\n            if (overlapX < overlapY) {\n              newDx *= -1;\n            } else {\n              newDy *= -1;\n            }\n          }\n\n          return {\n            ...img,\n            pos: { x: newX, y: newY },\n            dir: { dx: newDx, dy: newDy },\n          };\n        })\n      );\n      animationFrame = requestAnimationFrame(move);\n    };\n\n    animationFrame = requestAnimationFrame(move);\n    return () => cancelAnimationFrame(animationFrame);\n  }, []);\n\n  function isOverlappingCenter(x: number, y: number) {\n    const containerWidth = window.innerWidth;\n    const containerHeight = window.innerHeight;\n    const centerX = containerWidth / 2 - widthitems / 2;\n    const centerY = containerHeight / 2 - heightitems / 2;\n\n    const rectMov = {\n      left: x,\n      right: x + widthtete,\n      top: y,\n      bottom: y + heighttete,\n    };\n    const rectCenter = {\n      left: centerX,\n      right: centerX + widthitems,\n      top: centerY,\n      bottom: centerY + heightitems,\n    };\n\n    return (\n      rectMov.left < rectCenter.right &&\n      rectMov.right > rectCenter.left &&\n      rectMov.top < rectCenter.bottom &&\n      rectMov.bottom > rectCenter.top\n    );\n  }\n\n  useEffect(() => {\n    const imageSources = [\n      \"/images/coca.jpg\",\n      \"/images/biere.png\",\n      \"/images/mcsmart.jpg\",\n      \"/images/bouteilles martini.png\",\n      \"/images/burger.png\",\n      \"/images/choppes bière.webp\",\n      \"/images/frites.png\",\n      \"/images/moscow mule.webp\",\n      \"/images/pina colada.png\",\n      \"/images/pisco sour.png\",\n      \"/images/ti punch.png\",\n      \"/images/verre de bière.webp\",\n    ];\n\n    const intervalle = setInterval(() => {\n      const randomimages =\n        imageSources[Math.floor(Math.random() * imageSources.length)];\n\n      const newImage = {\n        id: nextID,\n        src: randomimages,\n      };\n\n      setstaticimagescentre([newImage]);\n      setNextID((id) => id + 1);\n    }, 1000);\n\n    return () => clearInterval(intervalle);\n  }, []);\n\n  function getRandomxy(width: number, height: number) {\n    const x = Math.floor(Math.random() * (window.innerWidth - width));\n    const y = Math.floor(Math.random() * (window.innerHeight - height));\n    return { x, y };\n  }\n\n  const handleClick = async () => {\n    try {\n      if (socket && socket.readyState === WebSocket.OPEN) {\n        const check = await checkmilestone();\n        if (check.requires_verification) {\n          setCaptchaData(check);\n          setShowCaptcha(true);\n          return;\n        }\n\n        socket.send(\n          JSON.stringify({ type: \"click\", data: { x: pos.x, y: pos.y } })\n        );\n\n        const response = await incrementscore();\n        const newScore = response.new_score;\n\n        if (userId) {\n          setimgquibougent((prev) =>\n            prev.map((img) =>\n              img.id === userId ? { ...img, score: newScore } : img\n            )\n          );\n        }\n\n        console.log(\"Score incrémenté:\", response);\n      } else {\n        console.error(\"pas connecté au websocket\");\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du clic sur l'image:\", error);\n    }\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundColor: \"#000\",\n        overflow: \"hidden\",\n        position: \"relative\",\n      }}\n    >\n      {imgquibougent.map((img) => (\n        <div key={img.id} style={{ position: \"relative\" }}>\n          <img\n            src={img.src}\n            alt={`user ${img.username}`}\n            style={{\n              position: \"absolute\",\n              top: img.pos.y,\n              left: img.pos.x,\n              width: widthtete,\n              height: heighttete,\n              zIndex: 1,\n            }}\n          />\n          {/* Affichage optionnel du nom et score */}\n          <div\n            style={{\n              position: \"absolute\",\n              top: img.pos.y - 25,\n              left: img.pos.x,\n              color: \"white\",\n              fontSize: \"12px\",\n              backgroundColor: \"rgba(0,0,0,0.7)\",\n              padding: \"2px 4px\",\n              borderRadius: \"3px\",\n              zIndex: 2,\n              whiteSpace: \"nowrap\",\n            }}\n          >\n            {img.username}: {img.score}\n          </div>\n        </div>\n      ))}\n\n      {staticimagescentre.map((img) => (\n        <img\n          key={img.id}\n          src={img.src}\n          onClick={handleClick}\n          style={{\n            position: \"absolute\",\n            top: `calc(50% - ${heightitems / 2}px)`,\n            left: `calc(50% - ${widthitems / 2}px)`,\n            width: widthitems,\n            height: heightitems,\n            cursor: \"pointer\",\n            zIndex: 10,\n          }}\n        />\n      ))}\n\n      {showCaptcha && (\n        <ModalECaptcha\n          onClose={() => setShowCaptcha(false)}\n          captchaData={captchaData}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Pagejeu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}