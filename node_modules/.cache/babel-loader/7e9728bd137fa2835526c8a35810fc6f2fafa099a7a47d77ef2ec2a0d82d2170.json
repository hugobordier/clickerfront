{"ast":null,"code":"var _jsxFileName = \"/home/hugo/Documents/4A/cyber/front_url_parser/src/components/Pagejeu.tsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { incrementscore } from '../services/servicesjeu';\nimport { useWebSocket } from '../context/WebSocketContext';\nimport { checkmilestone } from '../services/servicesjeu';\nimport ModalECaptcha from './modalecaptcha';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Pagejeu = () => {\n  _s();\n  const {\n    socket,\n    userId,\n    userIdliste\n  } = useWebSocket();\n  const containerRef = useRef(null); //ref vers le div contenant l'animation\n\n  const {\n    widthitems,\n    heightitems\n  } = {\n    widthitems: 200,\n    heightitems: 200\n  };\n  const {\n    widthtete,\n    heighttete\n  } = {\n    widthtete: 150,\n    heighttete: 150\n  };\n  const [startPos] = useState(() => getRandomxy(widthtete, heighttete));\n  const [pos, setPos] = useState(startPos);\n  const [dir, setDir] = useState({\n    dx: 2,\n    dy: 2\n  });\n  // const [staticimages,setstaticimages]= useState<{x:number;y:number,id:number,src:string}[]>([]);\n  const [staticimagescentre, setstaticimagescentre] = useState([]);\n  const [nextID, setNextID] = useState(0);\n  //   \n  const [imgquibougent, setimgquibougent] = useState([]);\n  const [showCaptcha, setShowCaptcha] = useState(false);\n  const [captchaData, setCaptchaData] = useState(null);\n  useEffect(() => {\n    console.log(\"userIdliste\", userIdliste);\n    // let fullList = userIdliste ?? [];\n    // if (userId && !fullList.includes(userId)) {\n    //   fullList = [...fullList, userId];\n    // }\n    if (!userIdliste) return;\n    setimgquibougent(userIdliste.map(userId => {\n      let pos;\n      do {\n        pos = getRandomxy(widthtete, heighttete);\n      } while (isOverlappingCenter(pos.x, pos.y));\n      return {\n        id: userId,\n        pos,\n        dir: {\n          dx: 2,\n          dy: 2\n        },\n        src: `https://projetdelamort.onrender.com/assets/${userId}.png`\n      };\n    }));\n  }, [userIdliste]);\n  useEffect(() => {\n    let animationFrame;\n    const move = () => {\n      setimgquibougent(imgs => imgs.map(img => {\n        var _img$dir$dx, _img$dir, _img$dir$dy, _img$dir2, _img$dir$dx2, _img$dir3, _img$dir$dy2, _img$dir4;\n        const container = containerRef.current;\n        if (!container) return img;\n        let newX = img.pos.x + ((_img$dir$dx = (_img$dir = img.dir) === null || _img$dir === void 0 ? void 0 : _img$dir.dx) !== null && _img$dir$dx !== void 0 ? _img$dir$dx : 2);\n        let newY = img.pos.y + ((_img$dir$dy = (_img$dir2 = img.dir) === null || _img$dir2 === void 0 ? void 0 : _img$dir2.dy) !== null && _img$dir$dy !== void 0 ? _img$dir$dy : 2);\n        let newDx = (_img$dir$dx2 = (_img$dir3 = img.dir) === null || _img$dir3 === void 0 ? void 0 : _img$dir3.dx) !== null && _img$dir$dx2 !== void 0 ? _img$dir$dx2 : 2;\n        let newDy = (_img$dir$dy2 = (_img$dir4 = img.dir) === null || _img$dir4 === void 0 ? void 0 : _img$dir4.dy) !== null && _img$dir$dy2 !== void 0 ? _img$dir$dy2 : 2;\n\n        // rebond sur les bords du container\n        if (newX <= 0 || newX + widthtete >= container.offsetWidth) {\n          newDx *= -1;\n        }\n        if (newY <= 0 || newY + heighttete >= container.offsetHeight) {\n          newDy *= -1;\n        }\n\n        // collision avec l'image centrale\n        const Imagecentrex = container.offsetWidth / 2 - widthitems / 2;\n        const Imagecentrey = container.offsetHeight / 2 - heightitems / 2;\n        const rectImagemov = {\n          left: newX,\n          right: newX + widthtete,\n          top: newY,\n          bottom: newY + heighttete\n        };\n        const rectImagecenter = {\n          left: Imagecentrex,\n          right: Imagecentrex + widthitems,\n          top: Imagecentrey,\n          bottom: Imagecentrey + heightitems\n        };\n        const collision = rectImagemov.left < rectImagecenter.right && rectImagemov.right > rectImagecenter.left && rectImagemov.top < rectImagecenter.bottom && rectImagemov.bottom > rectImagecenter.top;\n        if (collision) {\n          const overlapX = Math.min(rectImagemov.right, rectImagecenter.right) - Math.max(rectImagemov.left, rectImagecenter.left);\n          const overlapY = Math.min(rectImagemov.bottom, rectImagecenter.bottom) - Math.max(rectImagemov.top, rectImagecenter.top);\n          if (overlapX < overlapY) {\n            newDx *= -1;\n          } else {\n            newDy *= -1;\n          }\n        }\n        return {\n          ...img,\n          pos: {\n            x: newX,\n            y: newY\n          },\n          dir: {\n            dx: newDx,\n            dy: newDy\n          }\n        };\n      }));\n      animationFrame = requestAnimationFrame(move);\n    };\n    animationFrame = requestAnimationFrame(move);\n    return () => cancelAnimationFrame(animationFrame);\n  }, []);\n  function isOverlappingCenter(x, y) {\n    const containerWidth = window.innerWidth;\n    const containerHeight = window.innerHeight;\n    const centerX = containerWidth / 2 - widthitems / 2;\n    const centerY = containerHeight / 2 - heightitems / 2;\n    const rectMov = {\n      left: x,\n      right: x + widthtete,\n      top: y,\n      bottom: y + heighttete\n    };\n    const rectCenter = {\n      left: centerX,\n      right: centerX + widthitems,\n      top: centerY,\n      bottom: centerY + heightitems\n    };\n    return rectMov.left < rectCenter.right && rectMov.right > rectCenter.left && rectMov.top < rectCenter.bottom && rectMov.bottom > rectCenter.top;\n  }\n  useEffect(() => {\n    const imageSources = ['/images/coca.jpg', '/images/biere.png', '/images/mcsmart.jpg', '/images/bouteilles martini.png', '/images/burger.png', '/images/choppes bière.webp', '/images/frites.png', '/images/moscow mule.webp', '/images/pina colada.png', '/images/pisco sour.png', '/images/ti punch.png', '/images/verre de bière.webp'];\n    const intervalle = setInterval(() => {\n      const randomimages = imageSources[Math.floor(Math.random() * imageSources.length)];\n      const newImage = {\n        id: nextID,\n        src: randomimages\n      };\n      setstaticimagescentre([newImage]);\n      setNextID(id => id + 1);\n    }, 1000);\n    return () => clearInterval(intervalle);\n  }, []);\n  function getRandomxy(width, height) {\n    const x = Math.floor(Math.random() * (window.innerWidth - width));\n    const y = Math.floor(Math.random() * (window.innerHeight - height));\n    return {\n      x,\n      y\n    };\n  }\n  const handleClick = async () => {\n    try {\n      if (socket && socket.readyState === WebSocket.OPEN) {\n        const check = await checkmilestone();\n        if (check.requires_verification) {\n          console.log(\"Captcha data\", check);\n          setCaptchaData(check);\n          console.log(\"Captcha data\", setCaptchaData);\n          setShowCaptcha(true);\n          return;\n        }\n        socket.send(JSON.stringify({\n          type: 'click',\n          data: {\n            x: pos.x,\n            y: pos.y\n          }\n        }));\n        // const form = {challenge_id:\" \",answer:\" \",client_timestamp:\" \",proof_of_work:\" \"};\n        const response = await incrementscore();\n        console.log(\"Score incrémenté:\", response);\n      } else {\n        console.error(\"pas connecté au websocket\");\n      }\n    } catch (error) {\n      console.error(\"Erreur lors du clic sur l'image:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: containerRef,\n    style: {\n      width: '100vw',\n      height: '100vh',\n      backgroundColor: '#000',\n      overflow: 'hidden',\n      position: 'relative'\n    },\n    children: [imgquibougent.map(img => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: img.src,\n      alt: \"user\",\n      style: {\n        position: 'absolute',\n        top: img.pos.y,\n        left: img.pos.x,\n        width: widthtete,\n        height: heighttete,\n        zIndex: 1\n      }\n    }, img.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 9\n    }, this)), staticimagescentre.map(img => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: img.src,\n      onClick: handleClick,\n      style: {\n        position: 'absolute',\n        top: `calc(50% - ${heightitems / 2}px)`,\n        left: `calc(50% - ${widthitems / 2}px)`,\n        width: widthitems,\n        height: heightitems,\n        cursor: 'pointer',\n        zIndex: 10\n      }\n    }, img.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 3\n    }, this)), showCaptcha && /*#__PURE__*/_jsxDEV(ModalECaptcha, {\n      onClose: () => setShowCaptcha(false),\n      captchaData: captchaData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n};\n_s(Pagejeu, \"yV9cCOnksVGWnfAlRO4QAdboANk=\", false, function () {\n  return [useWebSocket];\n});\n_c = Pagejeu;\nexport default Pagejeu;\nvar _c;\n$RefreshReg$(_c, \"Pagejeu\");","map":{"version":3,"names":["React","useRef","useEffect","useState","incrementscore","useWebSocket","checkmilestone","ModalECaptcha","jsxDEV","_jsxDEV","Pagejeu","_s","socket","userId","userIdliste","containerRef","widthitems","heightitems","widthtete","heighttete","startPos","getRandomxy","pos","setPos","dir","setDir","dx","dy","staticimagescentre","setstaticimagescentre","nextID","setNextID","imgquibougent","setimgquibougent","showCaptcha","setShowCaptcha","captchaData","setCaptchaData","console","log","map","isOverlappingCenter","x","y","id","src","animationFrame","move","imgs","img","_img$dir$dx","_img$dir","_img$dir$dy","_img$dir2","_img$dir$dx2","_img$dir3","_img$dir$dy2","_img$dir4","container","current","newX","newY","newDx","newDy","offsetWidth","offsetHeight","Imagecentrex","Imagecentrey","rectImagemov","left","right","top","bottom","rectImagecenter","collision","overlapX","Math","min","max","overlapY","requestAnimationFrame","cancelAnimationFrame","containerWidth","window","innerWidth","containerHeight","innerHeight","centerX","centerY","rectMov","rectCenter","imageSources","intervalle","setInterval","randomimages","floor","random","length","newImage","clearInterval","width","height","handleClick","readyState","WebSocket","OPEN","check","requires_verification","send","JSON","stringify","type","data","response","error","ref","style","backgroundColor","overflow","position","children","alt","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","onClick","cursor","onClose","_c","$RefreshReg$"],"sources":["/home/hugo/Documents/4A/cyber/front_url_parser/src/components/Pagejeu.tsx"],"sourcesContent":["import React, { useRef, useEffect, useState, use } from 'react';\nimport { incrementscore } from '../services/servicesjeu';\nimport { useWebSocket } from '../context/WebSocketContext';\nimport { checkmilestone } from '../services/servicesjeu';\nimport ModalECaptcha from './modalecaptcha';\n\n\nconst Pagejeu = () => {\n  const { socket,userId,userIdliste } = useWebSocket();\n  const containerRef = useRef<HTMLDivElement>(null);//ref vers le div contenant l'animation\n\n  const{widthitems,heightitems}={widthitems:200,heightitems:200};\n  const{widthtete,heighttete}={widthtete:150,heighttete:150};\n\n  const [startPos] = useState(() => getRandomxy(widthtete, heighttete));\n  const [pos, setPos] = useState(startPos);\n  const [dir, setDir] = useState({ dx: 2, dy: 2 });\n  // const [staticimages,setstaticimages]= useState<{x:number;y:number,id:number,src:string}[]>([]);\n  const [staticimagescentre,setstaticimagescentre] = useState<{id:number,src:string}[]>([]);\n  const [nextID, setNextID] = useState(0);\n//   \nconst [imgquibougent, setimgquibougent] = useState<\n  { id: string; pos: { x: number; y: number }; dir: { dx: number; dy: number }; src: string }[]\n>([]);\n\n  const [showCaptcha, setShowCaptcha] = useState(false);\n  const [captchaData, setCaptchaData] = useState<any>(null);\nuseEffect(() => {\n  console.log(\"userIdliste\", userIdliste);\n  // let fullList = userIdliste ?? [];\n  // if (userId && !fullList.includes(userId)) {\n  //   fullList = [...fullList, userId];\n  // }\n  if(!userIdliste) return;\n  setimgquibougent(userIdliste.map((userId) => {\n      let pos;\n      do {\n        pos = getRandomxy(widthtete, heighttete);\n      } while (isOverlappingCenter(pos.x, pos.y));\n      return {  \n        id: userId,\n        pos,\n        dir: { dx: 2, dy: 2 },\n        src: `https://projetdelamort.onrender.com/assets/${userId}.png`,\n      };\n    })\n  );\n}, [userIdliste]);\n\n\n  useEffect(() => {\n    let animationFrame: number;\n\n    const move = () => {\n      setimgquibougent((imgs) =>\n        imgs.map((img) => {\n          const container = containerRef.current;\n          if (!container) return img;\n\n          let newX = img.pos.x + (img.dir?.dx ?? 2);\n          let newY = img.pos.y + (img.dir?.dy ?? 2);\n          let newDx = img.dir?.dx ?? 2;\n          let newDy = img.dir?.dy ?? 2;\n\n          // rebond sur les bords du container\n          if (newX <= 0 || newX + widthtete >= container.offsetWidth) {\n            newDx *= -1;\n          }\n          if (newY <= 0 || newY + heighttete >= container.offsetHeight) {\n            newDy *= -1;\n          }\n\n          // collision avec l'image centrale\n          const Imagecentrex = container.offsetWidth / 2 - widthitems / 2;\n          const Imagecentrey = container.offsetHeight / 2 - heightitems / 2;\n          const rectImagemov = {\n            left: newX,\n            right: newX + widthtete,\n            top: newY,\n            bottom: newY + heighttete,\n          };\n          const rectImagecenter = {\n            left: Imagecentrex,\n            right: Imagecentrex + widthitems,\n            top: Imagecentrey,\n            bottom: Imagecentrey + heightitems,\n          };\n          const collision =\n            rectImagemov.left < rectImagecenter.right &&\n            rectImagemov.right > rectImagecenter.left &&\n            rectImagemov.top < rectImagecenter.bottom &&\n            rectImagemov.bottom > rectImagecenter.top;\n\n          if (collision) {\n            const overlapX =\n              Math.min(rectImagemov.right, rectImagecenter.right) -\n              Math.max(rectImagemov.left, rectImagecenter.left);\n            const overlapY =\n              Math.min(rectImagemov.bottom, rectImagecenter.bottom) -\n              Math.max(rectImagemov.top, rectImagecenter.top);\n\n            if (overlapX < overlapY) {\n              newDx *= -1;\n            } else {\n              newDy *= -1;\n            }\n          }\n\n          return {\n            ...img,\n            pos: { x: newX, y: newY },\n            dir: { dx: newDx, dy: newDy },\n          };\n        })\n      );\n      animationFrame = requestAnimationFrame(move);\n    };\n\n    animationFrame = requestAnimationFrame(move);\n    return () => cancelAnimationFrame(animationFrame);\n  }, []);\n\n  function isOverlappingCenter(x: number, y: number) {\n    const containerWidth = window.innerWidth;\n    const containerHeight = window.innerHeight;\n    const centerX = containerWidth / 2 - widthitems / 2;\n    const centerY = containerHeight / 2 - heightitems / 2;\n\n    const rectMov = {\n      left: x,\n      right: x + widthtete,\n      top: y,\n      bottom: y + heighttete,\n    };\n    const rectCenter = {\n      left: centerX,\n      right: centerX + widthitems,\n      top: centerY,\n      bottom: centerY + heightitems,\n    };\n\n    return (\n      rectMov.left < rectCenter.right &&\n      rectMov.right > rectCenter.left &&\n      rectMov.top < rectCenter.bottom &&\n      rectMov.bottom > rectCenter.top\n    );\n  }\n\n\n  useEffect(() => {\n    const imageSources = [\n      '/images/coca.jpg',\n      '/images/biere.png',\n      '/images/mcsmart.jpg',\n      '/images/bouteilles martini.png',\n      '/images/burger.png',\n      '/images/choppes bière.webp',\n      '/images/frites.png',\n      '/images/moscow mule.webp',\n      '/images/pina colada.png',\n      '/images/pisco sour.png',\n      '/images/ti punch.png',\n      '/images/verre de bière.webp',\n    ];\n\n    const intervalle = setInterval(() => {\n      const randomimages = imageSources[Math.floor(Math.random() * imageSources.length)];\n\n      const newImage = {\n        id: nextID,\n        src: randomimages,\n      };\n\n      setstaticimagescentre([newImage]);\n      setNextID((id) => id + 1);\n    }, 1000);\n\n    return () => clearInterval(intervalle);\n  }, []);\n\n\n  function getRandomxy(width:number,height:number){\n    const x= Math.floor(Math.random() * (window.innerWidth - width));\n    const y = Math.floor(Math.random() * (window.innerHeight - height));\n    return {x,y};\n  }\n\n  const handleClick = async () => {\n    try {\n      if (socket && socket.readyState === WebSocket.OPEN) {\n        const check = await checkmilestone();\n        if (check.requires_verification) {\n          console.log(\"Captcha data\", check);\n          setCaptchaData(check);\n          console.log(\"Captcha data\", setCaptchaData);\n          setShowCaptcha(true);\n          return;\n        }\n        socket.send(JSON.stringify({ type: 'click', data: { x: pos.x, y: pos.y } }));\n        // const form = {challenge_id:\" \",answer:\" \",client_timestamp:\" \",proof_of_work:\" \"};\n        const response = await incrementscore();\n        console.log(\"Score incrémenté:\", response);\n      } else {\n        console.error(\"pas connecté au websocket\");\n      }\n    }catch (error) {\n      console.error(\"Erreur lors du clic sur l'image:\", error);\n    }\n    \n\n  }\n\n\n  return (\n    \n    <div\n      ref={containerRef}\n      style={{\n        width: '100vw',\n        height: '100vh',\n        backgroundColor: '#000',\n        overflow: 'hidden',\n        position: 'relative',\n      }}\n    >\n      {imgquibougent.map((img) => (\n        <img\n          key={img.id}\n          src={img.src}\n          alt=\"user\"\n          style={{\n            position: 'absolute',\n            top: img.pos.y,\n            left: img.pos.x,\n            width: widthtete,\n            height: heighttete,\n            zIndex: 1,\n          }}\n        />\n      ))}\n      \n      {staticimagescentre.map((img) => (\n  <img\n    key={img.id}\n    src={img.src}\n    onClick={handleClick}\n    style={{\n      position: 'absolute',\n      top: `calc(50% - ${heightitems / 2}px)`,\n      left: `calc(50% - ${widthitems / 2}px)`,\n      width: widthitems,\n      height: heightitems,\n      cursor: 'pointer',\n      zIndex: 10,\n    }}\n  />\n))}\n\n{showCaptcha && (\n  <ModalECaptcha onClose={() => setShowCaptcha(false)}\n  captchaData={captchaData}/>\n)}\n    </div>\n  );\n\n};\n\nexport default Pagejeu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}